<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="src/leaflet.js"></script>
    <script src="src/leaflet.plotter.js"></script>
    <link rel="stylesheet" href="src/leaflet.css" />
    <link rel="stylesheet" href="src/plotter.css" />
     <style>
       body { margin:0; padding:0; font-family: arial; }
       #map { position:absolute; top:0; bottom:0; width:100%; }
      </style>
</head>
<body>
    <div id="map"></div>

   <script type="text/javascript">
   var map = L.map('map').setView([51.48516, -0.114], 15.4);
   L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
   attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var plottedPolyline = L.Polyline.Plotter([
      [51.486033, -0.12115],
      [51.486407, -0.119734],
      [51.486781, -0.116687],
      [51.486942, -0.114927],
      [51.486888, -0.113769],
      [51.487102, -0.112824],
      [51.48753, -0.112009],
      [51.488331, -0.111279],
      [51.489373, -0.109606],
      [51.489828, -0.108404],
      [51.490389, -0.10673],
      [51.49095, -0.1054],
      [51.491164, -0.104284],
      [51.490977, -0.103726],
      [51.490469, -0.103812],
      [51.489347, -0.104542],
      [51.487636, -0.106688],
      [51.486033, -0.10819],
      [51.484884, -0.109434],
      [51.484296, -0.109992],
      [51.483013, -0.111408]
    ],{
        weight: 3,
     //  plottedPolyline.getLatLngs(),
        readOnly :true
          }).addTo(map);

    // Trigger for toggling readonly property
      var readOnly = false;
      function toggle(actual){
      if (actual== "read"){
      plottedPolyline.setReadOnly(readOnly);
      } else  if (actual== "edit"){
      plottedPolyline.setReadOnly(!readOnly);
      }
       if (actual== "read"){
       return 'Editing';
       }else if (actual == "edit"){
        return 'Read Only';  }
       }
            function getpoints(){
         var Points = plottedPolyline.getLatLngs();
      for(var i=0; i < Points.length; i++) {
      if(map.getBounds().contains(Points[i])) {
           return Points;
        }
      }
      };
      </script>
    </body>
   </html>
